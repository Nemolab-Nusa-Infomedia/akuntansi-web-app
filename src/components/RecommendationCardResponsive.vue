<template>
    <Carousel v-bind="{ ...config, itemsToShow: itemsToShow }" class="md:px-9">
      <Slide v-for="(item, index) in financialRecommendation" :key="index">
        <div class="bg-[#EFF2FF] space-y-8 max-lg:space-y-3 rounded-2xl p-3">
          <div class="flex gap-2 items-center">
            <div class="">
              <img
                :src="item.profile"
                alt="profile-image"
                class="rounded-full w-7 h-7 flex-shrink"
              />
            </div>
            <div class="block">
              <p class="text-primary text-start text-2xl max-lg:text-base font-semibold">
                {{ item.name }}
              </p>
              <div class="text-start">
                <p class="text-xl max-lg:text-sm">
                  {{ item.title }} of
                  <span class="text-[#F44336] font-semibold">{{
                    item.company
                  }}</span>
                </p>
              </div>
            </div>
          </div>
          <p class="text-black text-start text-2xl max-lg:text-base">
            {{ item.recommendation }}
          </p>
          <div
            class="text-secondary items-center flex gap-1"
            v-html="item.icon"
          ></div>
        </div>
      </Slide>
    </Carousel>
  </template>
  <style scoped>
  .carousel__slide {
    padding: 5;
  }
  
  .carousel__viewport {
    perspective: 2000px;
  }
  
  .carousel__track {
    transform-style: preserve-3d;
  }
  
  .carousel__slide--sliding {
    transition: 0.5s;
  }
  
  .carousel__slide {
    opacity: 0.9;
    transform: scale(0.9);
  }
  
  .carousel__slide--active ~ .carousel__slide {
    transform: scale(0.9);
  }
  
  .carousel__slide--prev {
    opacity: 1;
    transform: scale(0.9);
  }
  
  .carousel__slide--next {
    opacity: 1;
    transform: scale(0.9);
  }
  
  .carousel__slide--active {
    opacity: 1;
    transform: scale(1);
  }
  
  .carousel-container {
    margin: auto;
  }
  
  .slide-content {
    text-align: center;
  }
  
  .carousel-prev-btn,
  .carousel-next-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
  }
  
  .carousel-prev-btn {
    left: -4rem;
    
  }
  
  .carousel-next-btn {
    right: -4rem;
  }
  
  @media (max-width: 768px) {
    .carousel-prev-btn,
    .carousel-next-btn {
      left: 0.5rem;
      right: 0.5rem;
    }
  }
  </style>
  
  <script setup>
  import { ref, onMounted, onBeforeUnmount } from "vue";
  import { Carousel, Slide} from "vue3-carousel";
  import "vue3-carousel/dist/carousel.css";
  
  const financialRecommendation = [
    {
      profile: "/assets/profile-1.png",
      name: "Danial Abror",
      title: "Acquisition Manager",
      company: "Humaira Hijab",
      recommendation:
        "Core Jurnal membuat pengelolaan akuntansi saya jauh lebih sederhana. Platform ini sangat membantu untuk menjaga kesehatan keuangan bisnis.",
      icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg>`,
    },
    {
      profile: "/assets/profile-2.png",
      name: "Fadillah Aulia Rahman ",
      title: "Development Director",
      company: "Jajan Yuk",
      recommendation:
        "Core Jurnal memudahkan saya mengelola keuangan bisnis. Dashboard-nya mudah digunakan, dan saya bisa melacak semua transaksi dengan cepat.",
      icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg>`,
    },
    {
      profile: "/assets/profile-3.png",
      name: "Eki Oktaviana R.",
      title: "Legal Counsel ",
      company: "Guditama ID",
      recommendation:
        "Dengan Core Jurnal, laporan keuangan saya tersusun rapi. Semua data tersedia dalam satu dashboard, sehingga lebih mudah untuk memantau keuangan bisnis.",
      icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M12.0354 3.30049C11.7024 2.72666 10.8737 2.72666 10.5408 3.30049L8.19584 7.34168C8.03136 7.62515 7.74706 7.81859 7.423 7.86753L3.02843 8.53128C2.29033 8.64276 2.03142 9.57468 2.60625 10.0509L5.88002 12.7632C6.18306 13.0143 6.32555 13.4103 6.25194 13.7969L5.39557 18.2941C5.26019 19.0051 6.00651 19.5574 6.64686 19.2202L10.7849 17.0414C11.0999 16.8756 11.4763 16.8756 11.7913 17.0414L15.9293 19.2202C16.5697 19.5574 17.316 19.0051 17.1806 18.2941L16.3242 13.7969C16.2506 13.4103 16.3931 13.0143 16.6961 12.7632L19.9699 10.0509C20.5447 9.57468 20.2858 8.64276 19.5477 8.53128L15.1532 7.86753C14.8291 7.81859 14.5448 7.62515 14.3803 7.34168L12.0354 3.30049Z" fill="#FFB02B"/>
  </svg>`,
    },
  ];
  
  const itemsToShow = ref(window.innerWidth > 768 ? 3 : 1);
  
  const updateItemsToShow = () => {
    itemsToShow.value = window.innerWidth > 768 ? 3 : 1;
  };
  
  onMounted(() => {
    window.addEventListener("resize", updateItemsToShow);
  });
  
  onBeforeUnmount(() => {
    window.removeEventListener("resize", updateItemsToShow);
  });
  
  const config = {
    wrapAround: true,
    transition: 500,
    breakpoints: {
      200: { // Berlaku untuk layar < 768px
        itemsToShow: 1.5, // Menampilkan 1,5 slide
      },
    },
  };
  
  
  const onImageError = (event) => {
    event.target.src = "/assets/default-profile.png";
  };
  </script>
  